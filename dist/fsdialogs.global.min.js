"use strict";var fsdialog=(()=>{var m=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var v=Object.prototype.hasOwnProperty;var O=(l,a)=>{for(var u in a)m(l,u,{get:a[u],enumerable:!0})},x=(l,a,u,n)=>{if(a&&typeof a=="object"||typeof a=="function")for(let t of h(a))!v.call(l,t)&&t!==u&&m(l,t,{get:()=>a[t],enumerable:!(n=C(a,t))||n.enumerable});return l};var L=l=>x(m({},"__esModule",{value:!0}),l);var I={};O(I,{fsAlert:()=>b,fsDialog:()=>c,fsPrompt:()=>p,fsSuccess:()=>g});function b(l,a="Alert"){return c([{text:"OK",value:"OK",class:"btn btn-sm btn-danger"}],l,a,{headClass:"bg-danger text-white",closeButton:!0,width:"auto"})}function g(l,a="Success"){return c([{text:"OK",value:"OK",class:"btn btn-sm btn-success"}],l,a,{headClass:"bg-success text-white",closeButton:!0,width:"auto"})}function c(l,a,u,n={}){n==null&&(n={});let t={headClass:"",closeButton:!1,closeOnEsc:!1};n.headClass&&(t.headClass=n.headClass),n.closeButton&&(t.closeButton=n.closeButton),n.container&&(t.container=n.container),n.closeOnEsc&&(t.closeOnEsc=n.closeOnEsc);let e="400px";n.width&&(e=n.width);let s=[];if(l.length==0)s=[{value:"OK",text:"OK",class:"btn btn-sm btn-light"}];else for(let i of l){let o={value:"",text:"",class:"btn btn-sm"};i.value?o.value=i.value:o.value="OK",i.text?o.text=i.text:o.text=i.value,i.class?o.class=i.class:o.class="btn btn-sm",s.push(o)}let r=document.createElement("dialog");return r.classList.add("fs-dialog-modal"),e!="auto"?r.style.width=e:r.classList.add("fs-dialog-auto"),r.innerHTML=M(s,a,u,t),t.container?t.container?.append(r):document.body.append(r),new Promise(i=>{r.showModal(),r.addEventListener("cancel",o=>{n.closeOnEsc?(r.remove(),i("ESC")):o.preventDefault()}),document.querySelectorAll(".fs-close-modal").forEach(o=>{o.addEventListener("click",f=>{let d=f.currentTarget.dataset?.return;r.close(),r.remove(),d!==void 0&&i(d)})})})}function M(l,a,u,n){let t=l.map(s=>`<button data-return="${s.value}"
				class="fs-close-modal ${s.class}" type="button">${s.text}</button>`).join('<span style="margin-left:4px"></span>'),e="";return n.closeButton&&(e=`<div class="fs-dialog-margin-auto"></div>
		<div class="fs-close-modal" role="button" data-return="CLOSE">&#10761;</div>`),`
	<div class="title ${n.headClass}" >
		<div>${u}</div>
		${e}	    
 	</div>  

	 <div class="body">
		${a}
 	</div>
 
	<hr style="margin-top:0px;margin-bottom:0px;margin-left:4px;margin-right:4px; color:##eeeeee">
	<div class="buttons">
		<div class="fs-dialog-margin-auto"></div>
		${t}
	</div>
	`}function p(l,a,u,n={}){u==null&&(u=""),(n==null||Object.keys(n).length===0)&&(n={inputType:"text",headClass:"",min:"",max:"",step:"",buttonOkInnerHTML:"OK",buttonCloseInnerHTML:"CLOSE",buttonOkClass:"btn btn-primary btn-sm",buttonCloseClass:"btn btn-secondary btn-sm",inputClass:"fs-dialog-input",width:"400px",placeholder:""});let t="400px";n.width&&(t=n.width);let e=`${new Date().getTime()}`,s=document.createElement("dialog");return s.classList.add("fs-dialog-modal"),t!="auto"?s.style.width=t:s.classList.add("fs-dialog-auto"),s.innerHTML=T(l,a,u,e,n),n.container?n.container?.append(s):document.body.append(s),new Promise(r=>{let i=s.querySelector(`#v${e}`);if(s.showModal(),i&&i.type!="number"){let o=i?.value.length;i?.setSelectionRange(o,o),i?.focus()}document.querySelector(`#form_${e}`)?.addEventListener("submit",o=>{o.preventDefault();let d=document.getElementById(`v${e}`).value;s.close(),s.remove(),r({button:"OK",value:d})}),document.querySelector(`#close_${e}`)?.addEventListener("click",o=>{s.close(),s.remove(),r({button:"CLOSE"})}),s.addEventListener("cancel",o=>{r({button:"CLOSE"})})})}function T(l,a,u,n,t){let e={inputType:"text",headClass:"",min:"",max:"",step:"",buttonOkInnerHTML:"OK",buttonCloseInnerHTML:"CLOSE",buttonOkClass:"btn btn-primary btn-sm",buttonCloseClass:"btn btn-secondary btn-sm",inputClass:"fs-dialog-input",width:"400px",placeholder:""};t.buttonOkClass&&(e.buttonOkClass=t.buttonOkClass),t.buttonCloseClass&&(e.buttonCloseClass=t.buttonCloseClass),t.headClass&&(e.headClass=t.headClass),t.placeholder&&(e.placeholder=t.placeholder),t.inputType&&(e.inputType=t.inputType),t.min&&(e.min=t.min),t.max&&(e.max=t.max),t.step&&(e.step=t.step),t.buttonOkInnerHTML&&(e.buttonOkInnerHTML=t.buttonOkInnerHTML),t.buttonCloseInnerHTML&&(e.buttonCloseInnerHTML=t.buttonCloseInnerHTML),t.inputClass&&(e.inputClass=t.inputClass);let s="";e.inputType=="number"&&(l==""&&(l="0"),e.min&&(s+=` min="${e.min}" `),e.max&&(s+=` max="${e.max}" `),e.step&&(s+=` step="${e.step}" `));let r="";t.placeholder&&(r=` placeholder="${t.placeholder}" `);let i="";return a===""&&(i=" hidden "),`
    <div class="title ${e.headClass}">
	   ${u}
	</div>  
		
	<form id="form_${n}">
		<div class="body">
			<div class="mb-1">
				<label for="v${n}" ${i} >
					${a}
				</label>
				<input class="${e.inputClass}"  type="${e.inputType}" name="name_${n}" required
							id="v${n}" ${s} ${r}
							value="${l}"  maxlength="50" />
			</div>
		</div>
		
		<div class="buttons">
			<div class="fs-dialog-margin-auto"></div>
			<button class="${e.buttonOkClass}" type="submit" >
				${e.buttonOkInnerHTML}
			</button>
			<button data-return="CLOSE" type="button" class="fs-dialog-ml-2 ${e.buttonCloseClass}" id="close_${n}">
				${e.buttonCloseInnerHTML}
			</button>
		</div>
	<form>
</div>
	`}return L(I);})();
